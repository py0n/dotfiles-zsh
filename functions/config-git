# Gitのviewer設定。
# http://motemen.hatenablog.com/entries/2013/11/26

if [[ -x `whence git` && -x `whence diff-highlight` && -x `whence less` ]]; then
    # 色設定。
    git config --global --replace-all color.ui true

    # viewer設定。
    if [[ -x `whence nkf` ]]; then
        local PAGER="diff-highlight | nkf -w | LESS=-R less"
    elif [[ -x `whence lv` ]]; then
        local PAGER="diff-highlight | lv -Ou | LESS=-R less"
    else
        local PAGER="diff-highlight | LESS=-R less"
    fi
    git config --global --replace-all pager.diff "$PAGER"
    git config --global --replace-all pager.log "$PAGER"
    git config --global --replace-all pager.show "$PAGER"
fi

# vim: ft=zsh
